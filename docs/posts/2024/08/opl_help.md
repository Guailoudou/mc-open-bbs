---
post: true
title: opl联机工具常见问题
date: 2024-05-25 00:05:39
cover: https://doc.mcbbs.top/logo.svg
categories:
    - 联机教程
tags:
    - 原创教程
description: opl联机工具常见问题
---
# 联机工具常见问题
本文档为[opl联机工具](https://blog.gldhn.top/2024/04/19/opl_ui/)常见问题自查文档

mc联机遇到报错可以自查，可以通过`ctrl+f`搜索报错的尾部几个单词以快速找到解决方法

目录（详细目录见左边侧边栏，没有请拉宽窗口）
- [联机工具问题](#联机工具问题)
- [MC相关问题](#MC相关问题)
## 联机工具问题

### 联机工具隧道长时间黄灯

原因：隧道打洞失败，在持续尝试打洞

解决方法：继续等待，或尝试更换网络，更换网络后重新打开联机工具，请注意启动的时候日志谁提示了连接受限制

一般来说三大运营商连接都说没问题的，二级运营商很难打洞成功（非三大运营商均为二级运营商 国内有且仅有`电信` `联通` `移动`为一级运营商，其余运营商均为二级，即购买一级运营商宽带网络进行二手转卖）

### 提示对方不在线

确保房主软件左下角版本号旁边的状态灯为绿色，同时检查uid是否正确.

最好等房主版本号后状态灯变绿后其他用户再启动.

### 提示本地端口被占用

点击编辑，更换对应本地端口（比如+1 或 -1）

### 安装包版本更新后无法打开/回溯老版

原因：安装包版本更新时概率异常

解决方法：该异常暂无法解决，请直接于控制面板卸载opl，重新下载最新的，暂不再提供安装包版

隧道/uid迁移：保存之前安装目录下的bin/config.json文件，后复制至新安装目录下的bin/config.json文件

### 添加白名单/报毒/无法启动

原因：内网穿透类软件常被黑客用于攻击企业内网，因此常常被报毒

Windows安全中心->病毒和威胁防护->“病毒和威胁防护”设置->管理设置->排除项->添加或删除排除项->添加排除项->文件夹 选择安装目录中的bin文件夹

默认安装目录：`C:\Program Files(x86)\Guailoudou\OPL\ ` 

### 什么是共享带宽

共享带宽是共享给别人的，当其他用户p2p连不上，而他们都可以与你进行p2p连接时，他们将通过你中转数据，而这中转的数据带宽上限就是你设置的共享带宽，建议保持默认值即可，一般来说只有nat1是有效共享

### Windows无法访问指定设备、路径或文件。你可能没有适当的权限访问该项目。

原因：系统权限不足

解决方法：法1-移动到D盘或其他非C盘打开    法2-参考 [链接](https://blog.csdn.net/datarecover/article/details/128947235) 提权

ps：狗系统，我自己电脑我没权限操作🙃
## MC相关问题

### 登入失败，无效的会话

原因：正版验证导致的

解决方法：**都**使用外置登录或加[自定义局域网联机](https://www.mcmod.cn/class/2754.html)或类似mod关闭验证（使用外置登录可不关闭正版验证，需要统一登录方式）

ps：个人推荐外置登录，还能加载皮肤披风，以下为设置外置登录的方法

- pcl ：版本设置->设置->服务器->登录方式->第三方登录：AuthlibInjector或LittleSkin->设置为littleskin->返回主页注册或登录
- hmcl ：账户 -> 选择littleskin(没有点下面添加认证服务器，填入https://littleskin.cn/api/yggdrasil) -> 注册或登录

ps：这个问得太多了，放mc第一个了还是好多人问🙃

### 未知主机

原因：ip格式错误

解决方法：注意IP中间的`:`需要使用英文键盘，不是`：` 

如：应该是`127.0.0.1:25565` 而不是 `127.0.0.1：25565`

ps：为什么不直接复制或者从局域网进呢

### 可以使用其他启动器吗？

可以，使用什么启动器和联机工具没关系，只是pcl更加无脑，所以视频才演示的pcl

### Invalid characters in username

进入报错 `Internal Exception:javalang.IllegalStateException:Invalid characters in username`

原因：用户名不合规

解决方法：更改用户名，要求仅可出现英文大小写，数字，英文下划线，3-16位，**不可使用中文用户名**

### Connection refused: getsockopt

连接还未建立完成，可添加服务器ip刷新服务器列表，刷新出服务器状态再进

能刷新出服务器状态即表明已成功与房主通讯
### MC连接中断/连接超时/进入世界后秒退

添加服务器ip刷新，确认能否刷新出服务器状态，以确认是否存在网络问题，能正常刷出服务器状态，说明与服务器（房主）通讯是正常的

请再排查mod列表，确认双方mod是否一致

如果确认以上问题不存在，请排查游戏日志，查看在玩家进入世界的时候是否报错，报错请自行翻译报错，可自行将报错文件尾缀改为txt后发送给ai分析问题（房主与玩家日志均需要排查，发给ai时候请同时发送双方日志）

mc日志文件位于版本文件夹的`logs\latest.log` （这是当前日志，即最近一次的日志，之前的日志已自动打包为压缩文件）

### 联机皮肤不显示

原因：关闭正版验证之后不连接验证服务器了，皮肤的验证服务器传递的

解决方案：开启正版验证或加万用皮肤补丁mod 

ps：推荐直接外置登录，在皮肤站设置皮肤就行了


### 软件连接成功但进不去游戏

确保输入ip正确，特别是其中的`:`不是`：` 

添加服务器，刷新出现服务器信息再进，进不去请自行翻译报错，翻译报错可解决50%问题。

翻译后无法解决请尝试多次进入，查看报错是否相同，相同请检查mod兼容性问题，网查报错原因

### 聊天消息验证失败

一般出现在1.19.1以上版本

解决方法：安装禁用聊天举报mod [相关链接](https://www.mcmod.cn/class/6756.html)

### Index *** out of bounds for length ***
原因：程序访问超出数组长度的索引（一般属于编程错误）

存在2种可能：
1. 用户名长度过长，正常用户名长度应该不超过16位，并且不应该出现中文
2. 某个mod存在漏洞，这个报错属于编程错误，请查看游戏日志，检查玩家进入时的报错，移除相关mod，有能力的话请反馈给mod开发者

### 数据包过大

可能的报错：
- 读取过大的 NBT 标签时被踢出，并提示“Tried to read NBT tag that was too big; tried to allocate: Xbytes where max allowed: 2097152”；
- 压缩后的数据包过大被踢出，并提示“Badly compressed packet - size of X is larger than protocol maximum of 2097152”；
- 发包过大被踢出，并提示“Attempted to send packet over maximum protocol size: 8388608 / Packet too big (is X, should be less than 8388608)”；
- Payload 过长被踢出，并提示“Payload may not be larger than X bytes”。

解决方法：安装mod [Packet Fixer](https://www.mcmod.cn/class/12625.html)
